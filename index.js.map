{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst API_KEY = '45506482-0746cd613ccb32219c9653431';\n\nexport function fetchPhotos(query) {\n  if (!query.trim()) {\n    iziToast.error({\n      message: 'Please enter a search query!',\n      position: 'topRight',\n    });\n    return Promise.resolve([]);\n  }\n\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n  document.querySelector('.loader').classList.remove('hidden');\n\n  return fetch(`https://pixabay.com/api/?${params}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      }\n      return data.hits;\n    })\n    .catch(error => {\n      console.log(error);\n      iziToast.error({\n        message:\n          'An error occurred while fetching images. Please try again later.',\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      document.querySelector('.loader').classList.add('hidden');\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nlet lightbox;\nconst createGalleryCardTemplate = imgInfo => {\n  return ` <li class=\"gallery-card\">\n      <a href=\"${imgInfo.largeImageURL}\" class=\"gallery-item\">\n        <img class=\"gallery-img\" src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\" loading=\"lazy\" />\n        <div class=\"info\">\n          <p class=\"info-item\"><b>Likes:</b> ${imgInfo.likes}</p>\n          <p class=\"info-item\"><b>Views:</b> ${imgInfo.views}</p>\n          <p class=\"info-item\"><b>Comments:</b> ${imgInfo.comments}</p>\n          <p class=\"info-item\"><b>Downloads:</b> ${imgInfo.downloads}</p>\n        </div>\n      </a>\n    </li>`;\n};\n\nexport function addImagesToGallery(images) {\n  const galleryEl = document.querySelector('.gallery');\n  const markup = images\n    .map(imgDetails => createGalleryCardTemplate(imgDetails))\n    .join('');\n  galleryEl.innerHTML = markup;\n\n  lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n\n  lightbox.refresh();\n}\n","import { fetchPhotos } from './js/pixabay-api';\nimport { addImagesToGallery } from './js/render-functions';\n\nconst searchForm = document.querySelector('.submit-form');\nconst searchInput = document.querySelector('.search-input');\nconst galleryEl = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.loader');\n\nfunction clearGallery() {\n  galleryEl.innerHTML = '';\n}\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n  const query = searchInput.value.trim();\n\n  if (!query) {\n    iziToast.error({\n      message: 'Please enter a search query!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  clearGallery();\n  loaderEl.classList.remove('hidden');\n\n  fetchPhotos(query)\n    .then(images => {\n      if (images.length > 0) {\n        addImagesToGallery(images);\n      }\n    })\n    .finally(() => {\n      loaderEl.classList.add('hidden');\n    });\n});\n"],"names":["API_KEY","fetchPhotos","query","iziToast","params","response","data","error","lightbox","createGalleryCardTemplate","imgInfo","addImagesToGallery","images","galleryEl","markup","imgDetails","SimpleLightbox","searchForm","searchInput","loaderEl","clearGallery","event"],"mappings":"6vBAGA,MAAMA,EAAU,qCAET,SAASC,EAAYC,EAAO,CACjC,GAAI,CAACA,EAAM,OACTC,OAAAA,EAAS,MAAM,CACb,QAAS,+BACT,SAAU,UAChB,CAAK,EACM,QAAQ,QAAQ,CAAA,CAAE,EAG3B,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKJ,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EACD,gBAAS,cAAc,SAAS,EAAE,UAAU,OAAO,QAAQ,EAEpD,MAAM,4BAA4BE,CAAM,EAAE,EAC9C,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,IACAA,EAAK,KAAK,SAAW,GACvBH,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EAEIG,EAAK,KACb,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBJ,EAAS,MAAM,CACb,QACE,mEACF,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACb,SAAS,cAAc,SAAS,EAAE,UAAU,IAAI,QAAQ,CAC9D,CAAK,CACL,CCjDA,IAAIK,EACJ,MAAMC,EAA4BC,GACzB;AAAA,iBACQA,EAAQ,aAAa;AAAA,wCACEA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA,+CAEnCA,EAAQ,KAAK;AAAA,+CACbA,EAAQ,KAAK;AAAA,kDACVA,EAAQ,QAAQ;AAAA,mDACfA,EAAQ,SAAS;AAAA;AAAA;AAAA,WAM7D,SAASC,EAAmBC,EAAQ,CACzC,MAAMC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAASF,EACZ,IAAIG,GAAcN,EAA0BM,CAAU,CAAC,EACvD,KAAK,EAAE,EACVF,EAAU,UAAYC,EAEtBN,EAAW,IAAIQ,EAAe,aAAc,CAC1C,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAG,EAEDR,EAAS,QAAO,CAClB,CC5BA,MAAMS,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,cAAc,eAAe,EACpDL,EAAY,SAAS,cAAc,UAAU,EAC7CM,EAAW,SAAS,cAAc,SAAS,EAEjD,SAASC,GAAe,CACtBP,EAAU,UAAY,EACxB,CAEAI,EAAW,iBAAiB,SAAUI,GAAS,CAC7CA,EAAM,eAAc,EACpB,MAAMnB,EAAQgB,EAAY,MAAM,KAAI,EAEpC,GAAI,CAAChB,EAAO,CACV,SAAS,MAAM,CACb,QAAS,+BACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDkB,IACAD,EAAS,UAAU,OAAO,QAAQ,EAElClB,EAAYC,CAAK,EACd,KAAKU,GAAU,CACVA,EAAO,OAAS,GAClBD,EAAmBC,CAAM,CAEjC,CAAK,EACA,QAAQ,IAAM,CACbO,EAAS,UAAU,IAAI,QAAQ,CACrC,CAAK,CACL,CAAC"}